<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>üîπKotlin - AD - Acc√©s a Dades - Ficheros</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
        <link href="../img/favicon.ico" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\ud83d\udd39Kotlin";
        var mkdocs_page_input_path = "Kotlin.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../intro/">üîπIntroducci√≥n</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Idea/">üîπIntelliJ IDEA Ultimate</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ejercicios/">üîπEntrega Ejercicios</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">üîπKotlin</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#gestion-de-excepciones">üîπGesti√≥n de excepciones</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#funciones-lambda">üîπFunciones lambda</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#data-class">üîπData class</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">AD - Acc√©s a Dades - Ficheros</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">üîπKotlin</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="kotlin">Kotlin</h1>
<p>En el m√≥dulo de Programaci√≥n, de 1¬∫ de DAM, hemos trabajado principalmente con Java, un lenguaje robusto, orientado a objetos y ampliamente utilizado en el desarrollo de aplicaciones empresariales. Gracias a Java, hemos aprendido conceptos clave como clases, objetos, herencia, interfaces y estructuras de control.</p>
<p>A partir de ahora, en el m√≥dulo de Acceso a Datos (AD), vamos a continuar aplicando estos mismos conceptos, pero dando un paso m√°s all√° y utilizando <strong>Kotlin</strong>, un lenguaje moderno, conciso y seguro que funciona sobre la m√°quina virtual de Java (JVM). Fue desarrollado por JetBrains (los creadores de IntelliJ IDEA) y es 100% interoperable con Java.</p>
<p>Los principales usos de Kotlin son:</p>
<ul>
<li>Aplicaciones Android üì± (mayor√≠a actuales)</li>
<li>Aplicaciones de escritorio (con Swing, JavaFX o Compose Desktop)</li>
<li>Backends web (con frameworks como Ktor o Spring)</li>
<li>Desarrollo multiplataforma (Kotlin Multiplatform)</li>
</ul>
<p>Existen muchos tutoriales sobre Kotlin en los que pod√©is aprender su sintaxis. El sitio oficial es https://kotlinlang.org/docs/getting-started.html.</p>
<p>En los aparatados siguietes se describen brevemente algunas particularidades propias del lenguaje Kotlin que son interesantes.</p>
<h2 id="gestion-de-excepciones">üîπGesti√≥n de excepciones</h2>
<p>Una <strong>excepci√≥n</strong> es un error que ocurre en tiempo de ejecuci√≥n y que interrumpe el flujo normal del programa (por ejemplo: dividir por cero, leer un archivo que no existe, etc.).</p>
<p>La gesti√≥n de excepciones implica detectar, manejar y recuperarse de errores en el c√≥digo.
Kotlin utiliza el mismo modelo de excepciones que Java, pero con algunas diferencias importantes. En Kotlin hay dos formas comunes de gestionar excepciones:</p>
<p><strong class="azul">1. try-catch ‚Üí Captura y manejo expl√≠cito de errores</strong></p>
<p>Se utiliza cuando queremos atrapar y manejar una excepci√≥n que puede producirse en un bloque de c√≥digo.</p>
<p><strong>Sintaxis</strong></p>
<pre><code>    try {
        //  C√≥digo que puede fallar
    } catch (e1: IOException) {
        // C√≥digo para manejar el error
    } catch (e2: Exception) {
        // C√≥digo para manejar el error
    } finally {
        // opcional. Finalizaci√≥n y liberaci√≥n de recursos
    }
</code></pre>
<p><strong>Ejemplo</strong></p>
<pre><code>    fun main() {
    try {
        val resultado = 10 / 0
        println("Resultado: $resultado")
    } catch (e: ArithmeticException) {
        println("Error: no se puede dividir entre cero.")
    } finally {
        println("Fin del bloque try-catch.")
    }
}
</code></pre>
<p><strong class="azul">2. use ‚Üí Gesti√≥n autom√°tica de recursos</strong></p>
<p>Se utiliza con objetos que implementan la interfaz Closeable o AutoCloseable (como archivos, streams, lectores, sockets...). Es el equivalente de <strong>try-with-resources</strong> en Java.</p>
<p>Con <strong>use</strong>, Kotlin abre, utiliza y cierra autom√°ticamente el recurso (como un archivo), incluso si ocurre una excepci√≥n.</p>
<pre><code>    recurso.use {
        // Aqu√≠ usas el recurso
    }

- recurso es un objeto como BufferedReader, FileWriter, InputStream, etc.
</code></pre>
<p><strong>Ejemplo 1:</strong> Leer archivo con BufferedReader</p>
<pre><code>    import java.io.BufferedReader
    import java.io.FileReader

    fun main() {
        BufferedReader(FileReader("archivo.txt")).use { reader -&gt;
            val linea = reader.readLine()
            println(linea)
        }
    }

- Cuando el bloque use { ... } termina, el reader se cierra autom√°ticamente.
</code></pre>
<p><strong>Ejemplo 2:</strong> Escribir archivo con FileWriter</p>
<pre><code>    import java.io.FileWriter

    fun main() {
        FileWriter("archivo.txt").use {
            it.write("Hola, Kotlin\n")
        }
    }
</code></pre>
<p>Internamente, <strong>use</strong> hace lo mismo que esto:</p>
<pre><code>        val writer = FileWriter("archivo.txt")
        try {
            writer.write("Texto")
        } finally {
            writer.close()
        }
</code></pre>
<p><strong>Ejemplo 3:</strong> Ejemplo con BufferedReader. <strong>Use</strong> se encarga de cerrar el BufferedReader autom√°ticamente, aunque haya un error.</p>
<pre><code>import java.io.File

fun main() {
    val archivo = File("datos.txt")

    try {
        archivo.bufferedReader().use { reader -&gt;
            println("Primera l√≠nea: ${reader.readLine()}")
        }
    } catch (e: Exception) {
        println("Error al leer el archivo: ${e.message}")
    }
}
</code></pre>
<h2 id="funciones-lambda">üîπFunciones lambda</h2>
<p>Kotlin permite trabajar de forma concisa con <strong>funciones lambda</strong>, utilizando la palabra clave <strong>it</strong> para referirse al par√°metro impl√≠cito cuando hay solo uno.</p>
<p>Las funciones lambda son funciones definidas sin un nombre, utilizadas para operaciones simples y r√°pidas, mejorando la legibilidad del c√≥digo y el rendimiento.</p>
<p><strong>Una lambda</strong> es una expresi√≥n de funci√≥n que se puede usar como valor. Kotlin la define con la siguiente sintaxis:</p>
<pre><code>{ par√°metro1, par√°metro2 -&gt; cuerpo de la funci√≥n }

- Los par√°metros van antes del -&gt;.
- El cuerpo (lo que hace la funci√≥n) va despu√©s del -&gt;.
</code></pre>
<p>üß™ Ejemplo b√°sico:</p>
<pre><code>    val saludar = { nombre: String -&gt; println("Hola, $nombre") }

    saludar("Ana")

- Aqu√≠ saludar es una variable que almacena una lambda.
- La lambda toma un String y muestra un saludo.

- Su equivalen sin lambda ser√≠a:

        fun saludar(nombre: String) {
        println("Hola, $nombre")
        }

        fun main() {
        saludar("Ana")
        }
</code></pre>
<p><strong>Kotlin</strong> permite pasar <strong>lambdas como argumentos</strong> de funciones de orden superior:</p>
<pre><code>    val lista = listOf(1, 2, 3, 4)

    lista.forEach { println(it) }

- { println(it) } es una lambda que se ejecuta para cada elemento de la lista.
- it es el valor del elemento actual (ver it en el apartado siguiente).
</code></pre>
<ul>
<li>
<p>Lambdas sin par√°metros</p>
<pre><code>val decirHola = { println("Hola") }
decirHola()
</code></pre>
</li>
<li>
<p>Lambdas con m√∫ltiples par√°metros </p>
<pre><code>val sumar = { a: Int, b: Int -&gt; a + b }
println(sumar(3, 4)) // Imprime 7
</code></pre>
</li>
<li>
<p>Comparaci√≥n con funciones tradicionales</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Funci√≥n tradicional</th>
<th>Lambda equivalente</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fun saludar(nombre: String) { ... }</code></td>
<td><code>val saludar = { nombre: String -&gt; ... }</code></td>
</tr>
<tr>
<td><code>return a + b</code> dentro de una funci√≥n</td>
<td><code>val suma = { a: Int, b: Int -&gt; a + b }</code></td>
</tr>
<tr>
<td><code>fun cuadrado(x: Int): Int = x * x</code></td>
<td><code>val cuadrado = { x: Int -&gt; x * x }</code></td>
</tr>
<tr>
<td><code>fun sinParametros() = println("Hola")</code></td>
<td><code>val sinParametros = { println("Hola") }</code></td>
</tr>
</tbody>
</table>
<p><strong class="azul">it</strong></p>
<p>En Kotlin, <strong>it</strong> es el nombre impl√≠cito que se le da <strong>al √∫nico par√°metro de una lambda</strong> cuando no se le asigna un nombre expl√≠cito. Se usa cuando:</p>
<ul>
<li>Una lambda tiene solo un par√°metro.</li>
<li>No se necesita nombrar el par√°metro expl√≠citamente.</li>
<li>Se quiere un c√≥digo m√°s conciso.</li>
</ul>
<p>Ejemplo</p>
<pre><code>    val lista = listOf("Ana", "Luis", "Marta")

    lista.forEach { println(it) } // 'it' representa cada elemento de la lista
</code></pre>
<p>Es equivalente a:</p>
<pre><code>    lista.forEach { nombre -&gt; println(nombre) }
</code></pre>
<p>¬øCu√°ndo no se puede usar it?</p>
<ul>
<li>
<p>Si la lambda tiene m√°s de un par√°metro, debes nombrarlos expl√≠citamente.</p>
</li>
<li>
<p>Si quieres mejorar la legibilidad, puedes usar nombres expl√≠citos aunque haya solo uno.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p><strong>it</strong> es espec√≠fico de Kotlin. En Java no existe como palabra clave ni como nombre impl√≠cito de par√°metros.</p>
</div>
<h2 id="data-class">üîπData class</h2>
<p>En Kotlin, un <code>data class</code> es una clase especialmente dise√±ada para almacenar informaci√≥n.<br />
Se usa cuando el objetivo principal es representar datos, no definir comportamiento o l√≥gica compleja.</p>
<pre><code>data class Persona(val nombre: String, val edad: Int)
</code></pre>
<p>Los <code>data class</code> se utilizan para modelar objetos de datos (entidades, registros, documentos), simplificar el c√≥digo y facilitar operaciones como comparar, copiar o mostrar objetos.</p>
<table>
<thead>
<tr>
<th>Uso principal</th>
<th>Descripci√≥n breve</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ficheros</td>
<td>Representan la estructura de los datos que se leen o escriben en archivos (JSON, XML, CSV o binarios).</td>
</tr>
<tr>
<td>Bases de datos relacionales</td>
<td>Modelan entidades o registros de tablas para facilitar el acceso y manipulaci√≥n de datos.</td>
</tr>
<tr>
<td>Bases de datos NoSQL</td>
<td>Representan documentos o colecciones en sistemas como MongoDB o Firebase.</td>
</tr>
<tr>
<td>APIs REST</td>
<td>Sirven para enviar y recibir datos en formato JSON entre cliente y servidor.</td>
</tr>
<tr>
<td>Interfaces gr√°ficas</td>
<td>Describen el estado o los elementos que maneja la interfaz de usuario.</td>
</tr>
<tr>
<td>Modelo de dominio</td>
<td>Definen las entidades principales de la l√≥gica de negocio de una aplicaci√≥n.</td>
</tr>
<tr>
<td>Comunicaci√≥n y serializaci√≥n</td>
<td>Permiten intercambiar informaci√≥n entre sistemas o guardar configuraciones estructuradas.</td>
</tr>
</tbody>
</table>
<p>Al declarar una clase con <code>data</code>, Kotlin genera autom√°ticamente:</p>
<table>
<thead>
<tr>
<th>M√©todo</th>
<th>Descripci√≥n</th>
</tr>
</thead>
<tbody>
<tr>
<td>toString()</td>
<td>Devuelve una representaci√≥n legible del objeto.</td>
</tr>
<tr>
<td>equals()</td>
<td>Compara dos objetos por su contenido.</td>
</tr>
<tr>
<td>hashCode()</td>
<td>Genera un c√≥digo hash basado en los valores.</td>
</tr>
<tr>
<td>copy()</td>
<td>Crea una copia del objeto cambiando uno o m√°s campos.</td>
</tr>
<tr>
<td>componentN()</td>
<td>Permite desestructurar el objeto.</td>
</tr>
</tbody>
</table>
<p><strong>Ejemplo</strong></p>
<pre><code>data class Persona(val nombre: String, val edad: Int)

fun main() {
    val p1 = Persona("Ana", 25)
    val p2 = Persona("Ana", 25)
    val p3 = Persona("Luis", 30)

    // toString(): muestra el contenido del objeto
    println(p1.toString())
    // Resultado: Persona(nombre=Ana, edad=25)

    // equals(): compara el contenido de los objetos
    println(p1 == p2)   // true
    println(p1 == p3)   // false

    // hashCode(): genera un c√≥digo hash
    println(p1.hashCode())
    println(p2.hashCode())
    // Ambos tienen el mismo hashCode porque su contenido es igual

    // copy(): crea una copia con alguna modificaci√≥n
    val p4 = p1.copy(edad = 26)
    println(p4)
    // Resultado: Persona(nombre=Ana, edad=26)

    // componentN(): permite desestructurar el objeto
    val (nombre, edad) = p1
    println(nombre)
    println(edad)
}
</code></pre>
<p><strong>Requisitos</strong></p>
<ul>
<li>Debe tener al menos una propiedad en el constructor principal.</li>
<li>No puede ser abstract, open, sealed ni inner.</li>
<li>Las propiedades deben ser val o var.</li>
</ul>
<hr />
<p><strong>Conclusi√≥n</strong></p>
<p>Los <code>data class</code> son una herramienta esencial en Kotlin.<br />
Permiten representar informaci√≥n de forma clara, reducen c√≥digo y facilitan la integraci√≥n con ficheros, bases de datos, APIs y componentes de interfaz.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../ejercicios/" class="btn btn-neutral float-left" title="üîπEntrega Ejercicios"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../ejercicios/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
